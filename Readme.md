# fmods
Простая консольная утилита для управления модами на Factorio.

## Установка
Для установки нужно скачать один из релизов под вашу ОС и распаковать ее в какую-нибудь в директорию, которую позже надо добавить в PATH.

## Краткая инструкция
В начале нужно указать путь до игры программе.
Для этого выполните команду:
```shell
fmods instances add main <полный путь до игры> --default
```
**!!ВАЖНО!!** Внутри папки, на которую указывает путь, должна находится папка data.

Программа должна вывести информацию об игре.

Далее моды можно устанавливать командой
```shell
fmods download <id мода>
```
Id мода указано в ссылке на страничку мода, примеры
- mods.factorio.com/mod/**SeaBlockMetaPack** -> SeaBlockMetaPack - id мода 
- mods.factorio.com/mod/**bobpower**/dependencies -> bobpower - id мода

Для удаления мода есть команда:
```shell
fmods remove <id мода>
```

Получить список установленных модов и их версии:
```shell
fmods list
```

## Полная документация

### Конфигурация
Fmods имеет конфигурацию в формате toml, в ней хранятся все экземпляры игры, стандартный экземпляр и прочие опции.

Место нахождения конфигурации в зависимости от ОС:
- **Windows** - %AppData%/fmods/config.toml
- **Linux** - ~/.config/fmods/config.toml

### --no-ask
По умолчанию fmods может запрашивать дополнительную информацию, например название экземпляра для использования, если не указан стандартный или версию мода для установки, если она не была указана в аргументах.

Это можно контролировать через настройку в конфигурации ask: true - спрашивать, false - не спрашивать.

Помимо этого есть аргумент --no-ask (отключает вопросы) и --ask (включает вопросы).

### Экземпляры
Экземпляр - отдельная установленная версия игры.

Для создания экземпляра используется команда
```shell
fmods instances add <имя экземпляра> <полный путь для игры>
```

В случае если экземпляр с таким же именем уже существует, программа предложит перезаписать имеющийся.
В случае если вопросы запрещены, то перезаписи не будет, но ее можно вызвать аргументов `--replace`.

Что бы сразу установить новый экземпляр по-умолчанию можно использовать аргумент `--default`.

Для удаления экземпляра используется команда
```shell
fmods instances remove <имя экземпляра>
```

Экземпляр удаляется только из самой команды, сами файлы остаются.

Для получения списка экземпляров и названия экземпляра по-умолчанию:
```shell
fmods instances list
```

Что бы установить экземпляр по-умолчанию используйте:
```shell
fmods instances default <имя экземпляра>
```
Что бы убрать экземпляр по-умолчанию
```shell
fmods instances unset-default
```

### Управление модами
Все действия тут проводятся над каким-либо экземпляром.
Если экземпляр не указан через аргумент `--instance`,
то будет использоваться экземпляр по умолчанию, если же и его нет, то программа попросит выбрать экземпляр.

Что бы получить общую информацию об экземпляре используйте:
```shell
fmods info
```

Если же нужен полынй список модов:
```shell
fmods list
```

Удаляются моды с помощью:
```shell
fmods remove <id-мода>
```

Установка мода:
```shell
fmods download <id-мода> <версия-мода>
```

Если же версия не была указана, то программа предложит одну из доступных для вашей версии игры версию мода.
После программа начнет поиск всех зависимостей, он может завершиться с ошибкой, тогда следует попробовать другую версию мода.
Когда поиск завершиться, программа покажет все требуемые изменения (обновления модов, удаление конфликтующих модов, установка новых модов),
тогда вы можете отказаться от выполнения этих действий.